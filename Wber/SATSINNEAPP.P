/*SATSINNEAPP.P*/

{MTRLTEMP.I}

PROCEDURE satshmt_UI:
   DEFINE INPUT PARAMETER kodvar AS CHARACTER NO-UNDO.
   DEFINE INPUT PARAMETER levvar AS CHARACTER NO-UNDO.
   DEFINE OUTPUT PARAMETER TABLE FOR satstemp.
   EMPTY TEMP-TABLE satstemp NO-ERROR. 
   OPEN QUERY sq FOR EACH SATS WHERE SATS.KOD = kodvar AND 
   SATS.LEVKOD = levvar AND SATS.SATS = FALSE NO-LOCK.
   GET FIRST sq NO-LOCK.
   DO WHILE AVAILABLE(SATS):
      CREATE satstemp.
      BUFFER-COPY SATS TO satstemp.
      ASSIGN satstemp.SATSROW = ROWID(SATS).
      GET NEXT sq NO-LOCK.
   END.
   CLOSE QUERY sq.
END PROCEDURE.
PROCEDURE satshmt2_UI:
   DEFINE INPUT PARAMETER kodvar AS CHARACTER NO-UNDO.
   DEFINE INPUT PARAMETER levvar AS CHARACTER NO-UNDO.
   DEFINE OUTPUT PARAMETER TABLE FOR satstemp.
   EMPTY TEMP-TABLE satstemp NO-ERROR. 
   FIND FIRST SATS WHERE SATS.KOD = kodvar AND 
   SATS.LEVKOD = levvar AND SATS.SATS = TRUE NO-LOCK NO-ERROR.
   IF AVAILABLE SATS THEN DO:
      CREATE satstemp.
      BUFFER-COPY SATS TO satstemp.
      ASSIGN satstemp.SATSROW = ROWID(SATS).      
   END.   
END PROCEDURE.
PROCEDURE satshmt3_UI:
   DEFINE INPUT PARAMETER kodvar AS CHARACTER NO-UNDO.
   DEFINE INPUT PARAMETER levvar AS CHARACTER NO-UNDO.
   DEFINE OUTPUT PARAMETER truefalse AS LOGICAL NO-UNDO.   
   FIND FIRST SATS WHERE SATS.KOD = kodvar AND 
   SATS.LEVKOD = levvar AND SATS.SATS = TRUE NO-LOCK NO-ERROR.
   IF AVAILABLE SATS THEN DO:
      truefalse = TRUE.
   END.   
   ELSE DO:
      truefalse = FALSE.
   END.   
END PROCEDURE.
