/*XGODK.P*/
OPEN QUERY dq FOR EACH GODKOLL NO-LOCK.
DO TRANSACTION:
   GET FIRST dq EXCLUSIVE-LOCK.
   IF AVAILABLE GODKOLL THEN DO:
      ASSIGN
      GODKOLL.DATAR = YEAR(GODKOLL.DATUM)
      GODKOLL.DATMAN = MONTH(GODKOLL.DATUM). 
   END.   
END.   
DO WHILE AVAILABLE(GODKOLL):
   DO TRANSACTION:
      message godkoll.personalkod godkoll.datum godkoll.datar godkoll.datman.   
      GET NEXT dq EXCLUSIVE-LOCK.
      IF AVAILABLE GODKOLL THEN DO:
         ASSIGN
         GODKOLL.DATAR = YEAR(GODKOLL.DATUM)
         GODKOLL.DATMAN = MONTH(GODKOLL.DATUM). 
      END.
   END.   
END.
