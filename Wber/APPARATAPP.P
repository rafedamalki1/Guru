/*APPARATAPP.P*/
{APPARAT.I}


PROCEDURE laddaapparat_UI:
   DEFINE OUTPUT PARAMETER TABLE FOR apparattemp.
   EMPTY TEMP-TABLE apparattemp NO-ERROR. 
   OPEN QUERY aq FOR EACH APPARAT NO-LOCK.
   GET FIRST aq NO-LOCK.
   DO WHILE AVAILABLE(APPARAT):
      CREATE apparattemp.
      BUFFER-COPY APPARAT TO apparattemp.
      ASSIGN apparattemp.APROW = ROWID(APPARAT).
      GET NEXT aq NO-LOCK.
   END.
   CLOSE QUERY aq.
   RETURN.
END PROCEDURE.

PROCEDURE bort_UI:
   DEFINE INPUT PARAMETER apparow AS ROWID NO-UNDO.
   DO TRANSACTION:
      FIND FIRST APPARAT WHERE ROWID(APPARAT) = apparow EXCLUSIVE-LOCK NO-ERROR.
      IF AVAILABLE APPARAT THEN DO:
         DELETE APPARAT. 
      END.
   END.
   RETURN.
END PROCEDURE.
