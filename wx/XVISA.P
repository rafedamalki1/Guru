OPEN QUERY aoq FOR EACH AONRTAB WHERE AONRTAB.AONRAVDATUM = 01/01/1991 NO-LOCK.
DO TRANSACTION:
   GET FIRST aoq EXCLUSIVE-LOCK.
   IF AVAILABLE AONRTAB THEN DO:
      ASSIGN AONRTAB.AONRAVDATUM = 08/31/1999.
   END.
END.
REPEAT:       
   DO TRANSACTION:
      GET NEXT aoq EXCLUSIVE-LOCK.
      IF AVAILABLE AONRTAB THEN DO:
         ASSIGN AONRTAB.AONRAVDATUM = 08/31/1999.
      END.
      ELSE LEAVE.
   END.   
END.
MESSAGE "AONR KLAR".
FOR EACH BEFATTNINGSTAB:
   ASSIGN BEFATTNINGSTAB.NAMN = BEFATTNINGSTAB.BEFATTNING.
END.
MESSAGE "BEFATTNING KLAR".
FOR EACH LONTILL:
   ASSIGN LONTILL.VILART = LONTILL.LONTILLAGG.
END.
MESSAGE "LONTILL KLAR".
FOR EACH TRAKTATAB:
   ASSIGN TRAKTATAB.VILART = TRAKTATAB.TRAKTKOD.
END.
MESSAGE "TRAKT KLAR".
FOR EACH BERKOD:
   ASSIGN BERKOD.VILART = BERKOD.BEREDSKAP.
END.
MESSAGE "BER KLAR".
FOR EACH OVERKOD:
   ASSIGN OVERKOD.VILART = OVERKOD.OVERTIDTILL.
END.      
MESSAGE "ÖVER KLAR".
FOR EACH BESTTAB:
   ASSIGN BESTTAB.VIBESTID = BESTTAB.BESTID.
END.      
MESSAGE "BESTTAB KLAR".
