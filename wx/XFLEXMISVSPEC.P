DEFINE VARIABLE TOTMAJ2012 AS DECIMAL.
DEFINE VARIABLE TOTAPR2013 AS DECIMAL. 
 

FUNCTION klock100 RETURNS DECIMAL
  ( INPUT ber60 AS DECIMAL ):
/*------------------------------------------------------------------------------
  Purpose:  
    Notes:  
------------------------------------------------------------------------------*/

  RETURN  (TRUNCATE(ber60,0) * 3600 + (ber60 - TRUNCATE(ber60,0)) * 100 * 60) / 3600.

END FUNCTION.
OUTPUT TO C:\FLEXPERS2012.TXT.
FOR EACH FSALDMAN where  FSALDMAN.datum = 05/31/2012 NO-LOCK.
   TOTMAJ2012 = TOTMAJ2012 + klock100(FSALDMAN.ACCFLEX).
   DISP FSALDMAN.PERSONALKOD klock100(FSALDMAN.ACCFLEX) TOTMAJ2012.

END.
OUTPUT TO C:\FLEXPERS2013.TXT.

FOR EACH FSALDMAN where FSALDMAN.datum = 04/30/2013 NO-LOCK.
   TOTAPR2013 = TOTAPR2013 + klock100(FSALDMAN.ACCFLEX) + klock100(FSALDMAN.PERIODFLEX).
   DISP FSALDMAN.PERSONALKOD klock100(FSALDMAN.ACCFLEX) + klock100(FSALDMAN.PERIODFLEX) TOTAPR2013 .

END.

/*OUTPUT TO C:\FLEXTOT.TXT.
DISP TOTMAJ2012 TOTAPR2013.*/
