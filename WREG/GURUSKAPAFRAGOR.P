
/*------------------------------------------------------------------------
    File        : GURUSKAPAFRAGOR.P
    Purpose     : 

(Möjlig ange flera)

    Syntax      :

    Description : 

    Author(s)   : 
    Created     : Mon Oct 11 09:21:37 CEST 2021
    Notes       :
  ----------------------------------------------------------------------*/
FOR EACH EXTRADATA WHERE EXTRADATA.PROGRAM =  "GFRAG" EXCLUSIVE-LOCK:
   DELETE EXTRADATA.
END.
FIND FIRST EXTRADATA WHERE EXTRADATA.PROGRAM =  "GFRAG" NO-LOCK NO-ERROR.
IF AVAILABLE EXTRADATA THEN RETURN.
RUN e_ui (INPUT FALSE,INPUT 0,  INPUT "",  INPUT "Min användarroll i Guru är:"                 
                                        ,  INPUT "(man kan ange flera)"                 
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S1"
                                        ,  INPUT 1). 
RUN e_ui (INPUT FALSE,INPUT 1,  INPUT "",  INPUT "Kunna se mina konstruktioner placerade i karta"                 
                                        ,  INPUT ""                 
                                        ,  INPUT "Mina konstruktioner i GURU visas i en karta. "
                                        ,  INPUT ""
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 2,  INPUT "",  INPUT "Kunna skapa och placera ut mina konstruktioner i karta"
                                        ,  INPUT ""         
                                        ,  INPUT "Jag kan direkt i en karta välja att lägga till, ta bort eller flytta kontruktioner. Detaljerad information "
                                        ,  INPUT "som tex materiel arbetar jag med som tidigare i GURU."
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 3,  INPUT "",  INPUT "Möjlighet att kunna identifiera lämplig plats för upplag i karta"
                                        ,  INPUT ""
                                        ,  INPUT "I kartan ser jag alla mina konstruktioner och jag kan peka ut vart jag vill ha mina upplag och få geokoden "
                                        ,  INPUT "till dessa platser."
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 4,  INPUT "",  INPUT "Möjlighet att via karta identifiera mina projekt"                 
                                        ,  INPUT ""                 
                                        ,  INPUT "Jag kan zoma in på ett område och identifiera mina projekt och konstruktioner."
                                        ,  INPUT ""
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 5,  INPUT "",  INPUT "Möjlighet att beräkna stolp- och stag-dimensioner samt linarea "
                                        ,  INPUT ""     
                                        ,  INPUT "När jag placerar en konstruktion i kartan får jag förslag på dimensioner baserat på den "
                                        ,  INPUT "teränginformation som finns kring placeringen och angränsande stolpar."
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 6,  INPUT "",  INPUT "Mobilt stöd vid projektering"
                                        ,  INPUT ""                                      
                                        ,  INPUT "Jag kan direkt i en karta, anpassad för mobiltelefon eller läsplatta, välja att lägga till, ta bort eller flytta "
                                        ,  INPUT "kontruktioner. Jag kan i kartan se min aktulla position och använda den för att placera konstruktioner."
                                        ,  INPUT "S2"
                                        ,  INPUT 2).
RUN e_ui (INPUT FALSE,INPUT 7,  INPUT "",  INPUT "Mobilt stöd vid montering - Del 1"
                                        ,  INPUT ""                                 
                                        ,  INPUT "Jag kan direkt i en karta, anpassad för mobiltelefon eller läsplatta, få en överbllick över projektet, hitta "
                                        ,  INPUT "mina upplag och få visuellt stöd för att placera/montera konstruktioner."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE,INPUT 8,  INPUT "",  INPUT "Mobilt stöd vid montering - Del 2"
                                        ,  INPUT ""                                 
                                        ,  INPUT "Jag kan direkt i en karta, anpassad för mobiltelefon eller läsplatta, markera en konstruktion och ta del "
                                        ,  INPUT "av hela materiallistan."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE,INPUT 9,  INPUT "",  INPUT "Mobilt stöd vid montering - Del 3"
                                        ,  INPUT ""                                 
                                        ,  INPUT "Jag kan direkt i en karta, anpassad för mobiltelefon eller läsplatta, markera en konstruktion och fylla i "
                                        ,  INPUT "Egenkontroll."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE,INPUT 10, INPUT "",  INPUT "Erhålla förteckning av berörda fastigheter och markägare"
                                        ,  INPUT ""            
                                        ,  INPUT "Baserat på placeringen av mina konstruktioner automatiskt få ut förteckning av berörda fastigheter och"
                                        ,  INPUT "kontaktuppgifter till markägarna för att kunna genomföra markvärdering och kontakta berörda."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE,INPUT 11, INPUT "",  INPUT "Erhålla underlag för ersättningsberäkning"
                                        ,  INPUT ""                         
                                        ,  INPUT "Baserat på placeringen av mina konstruktioner automatiskt få ut påverkad längd/yta för berörda "
                                        ,  INPUT "fastigheter."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE,INPUT 12, INPUT "",  INPUT "Ta ut fastighetskartor"
                                        ,  INPUT ""                                            
                                        ,  INPUT "Möjlighet att zoma in på aktuell fastighet och exportera en karta innehållande de aktuella "
                                        ,  INPUT "konstruktionerna på fastigheten."
                                        ,  INPUT "S2"
                                        ,  INPUT 3).
RUN e_ui (INPUT FALSE ,INPUT 13, INPUT "",  INPUT "Annan funktion:"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S2"
                                        ,  INPUT 4).
RUN e_ui (INPUT FALSE,INPUT 21, INPUT "",  INPUT "Höjdinformation"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE,INPUT 22, INPUT "",  INPUT "Markfuktighet"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE,INPUT 23, INPUT "",  INPUT "Ortofoto"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE,INPUT 24, INPUT "",  INPUT "Fastighetskarta"                                                   
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE,INPUT 25, INPUT "",  INPUT "Hänsyner (tex fornlämningar och nyckelbiotoper)"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE ,INPUT 26, INPUT "",  INPUT "Annan karta:"                                                      
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 5).
RUN e_ui (INPUT FALSE,INPUT 27, INPUT "",  INPUT "Möjlighet att ladda upp egen kartinformation i ESRI shape format"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 6).
RUN e_ui (INPUT FALSE,INPUT 28, INPUT "",  INPUT "Möjlighet att ladda upp egen kartinformation i MapInfo TAB format"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 6).
RUN e_ui (INPUT FALSE,INPUT 29, INPUT "",  INPUT "Möjlighet att ladda upp egen kartinformation i AutoCAD DXF format"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 6).
RUN e_ui (INPUT FALSE ,INPUT 30, INPUT "",  INPUT "Möjlighet att ladda upp egen kartinformation i format"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S3"
                                        ,  INPUT 6).
RUN e_ui (INPUT FALSE ,INPUT 31, INPUT "",  INPUT "Finns det någon annan funktion du vill föreslå eller feedback du vill lämna till oss?"
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT ""
                                        ,  INPUT "S4"
                                        ,  INPUT 7).

PROCEDURE e_UI :
   DEFINE INPUT  PARAMETER ul AS LOGICAL NO-UNDO.
   DEFINE INPUT  PARAMETER hi AS INTEGER NO-UNDO.
   DEFINE INPUT  PARAMETER hch AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER c1 AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER c1del2 AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER c2 AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER c2del2 AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER steg AS CHARACTER NO-UNDO.
   DEFINE INPUT  PARAMETER sida AS INTEGER NO-UNDO.
   CREATE EXTRADATA.
   ASSIGN 
   EXTRADATA.PROGRAM = "GFRAG"
   EXTRADATA.HUVUDINT  = hi
   EXTRADATA.HUVUDCH = hch
   EXTRADATA.SOKLOG[10]  = ul
   EXTRADATA.SOKCHAR[1]  = c1
   EXTRADATA.SOKCHAR[2]  = c1del2.
   EXTRADATA.SOKCHAR[3]  = c2.
   EXTRADATA.SOKCHAR[4]  = c2del2.
   EXTRADATA.SOKCHAR[10] = steg.
   EXTRADATA.SOKINT[1] = sida.
  
  
   
   IF EXTRADATA.SOKCHAR[10] = "S1" THEN DO:
      ASSIGN 
      EXTRADATA.SOKCHAR[1] = "Projektör"
      EXTRADATA.SOKCHAR[2] = "Beredare"
      EXTRADATA.SOKCHAR[3] = "Montör"
      EXTRADATA.SOKCHAR[4] = "Markvärderare"
      EXTRADATA.SOKCHAR[5] = "Inköpare"
      EXTRADATA.SOKCHAR[6] = "Annat t.ex. Guru admin".
      
   END.   
   
END PROCEDURE.
