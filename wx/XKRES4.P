DEFINE TEMP-TABLE persres 
   FIELD PERSONALKOD LIKE TIDREGITAB.PERSONALKOD
   FIELD tidres AS DECIMAL   
   FIELD sumares AS DECIMAL   
   FIELD sumdagres AS DECIMAL
   INDEX RES PERSONALKOD.   
DEFINE VARIABLE ressumar AS DECIMAL NO-UNDO.        
DEFINE VARIABLE ressumdag AS DECIMAL NO-UNDO. 
DEFINE VARIABLE restidreg AS DECIMAL NO-UNDO.
DEFINE QUERY tq FOR TIDREGITAB.
DEFINE QUERY saq FOR SUMTID.    
DEFINE QUERY sdq FOR SUMTIDDAG.
OPEN QUERY sdq FOR EACH SUMTIDDAG WHERE SUMTIDDAG.AONR = "630001" AND SUMTIDDAG.PERSONALKOD = "35112" AND 
SUMTIDDAG.DELNR = 0 AND SUMTIDDAG.PRISTYP = "RESTID..." USE-INDEX AONR NO-LOCK. 
GET FIRST sdq.
DO WHILE AVAILABLE(SUMTIDDAG):
   IF YEAR(SUMTIDDAG.DATUM) = 1997 THEN DO:
   IF SUMTIDDAG.VECKOKORD NE "" THEN DO: 
      DISPLAY SUMTIDDAG WITH FRAME CC3 2 COL DOWN.
      DOWN 1 WITH FRAME CC3.
   END.
   END. 
   GET NEXT sdq.
END. 
OPEN QUERY saq FOR EACH SUMTID WHERE SUMTID.AONR = "630001" AND SUMTID.PERSONALKOD = "35112" AND 
SUMTID.DELNR = 0 AND SUMTID.PRISTYP = "RESTID..." USE-INDEX AONR NO-LOCK. 
GET FIRST saq.
DO WHILE AVAILABLE(SUMTID):
   IF YEAR(SUMTID.DATUM) = 1997 THEN DO:
   IF SUMTID.VECKOKORD NE "" THEN DO: 
      DISPLAY SUMTID.TIMMAR WITH FRAME CC34 TITLE "ÅR" 2 COL DOWN.
      DOWN 1 WITH FRAME CC34.
   END.
   END. 
   GET NEXT saq.
END.        
       
