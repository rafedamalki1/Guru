/*
     Filename: SKRIVUPPAPP.P
      Created: 2003.10.07 09:37ELPAO     
     Modified: 
*/
&SCOPED-DEFINE NEW
&SCOPED-DEFINE SHARED
{SKRIVARDEFTEMP.I}
PROCEDURE andraskriv_UI:
   DEFINE INPUT PARAMETER rb-print AS CHARACTER NO-UNDO.
   DEFINE INPUT PARAMETER sidavar AS INTEGER NO-UNDO.
   DEFINE INPUT PARAMETER breddvar AS INTEGER NO-UNDO.
   DO TRANSACTION:
      FIND FIRST SKRIVARDEF WHERE SKRIVARDEF.SKRIVARID = rb-print EXCLUSIVE-LOCK NO-ERROR.
      IF NOT AVAILABLE SKRIVARDEF THEN RETURN.
      ASSIGN
      SKRIVARDEF.SIDA = sidavar 
      SKRIVARDEF.BREDD = breddvar.
   END.
   
   IF AVAILABLE SKRIVARDEF THEN RELEASE SKRIVARDEF.
END PROCEDURE.

PROCEDURE laddaskriv_UI:
   DEFINE OUTPUT PARAMETER TABLE FOR skrivardeftemp.

   FOR EACH SKRIVARDEF:
      CREATE skrivardeftemp.
      BUFFER-COPY SKRIVARDEF TO skrivardeftemp.
   END.
END PROCEDURE.

PROCEDURE skapaskriv_UI:
   DEFINE INPUT PARAMETER rb-print AS CHARACTER NO-UNDO.
   FIND FIRST SKRIVARDEF WHERE SKRIVARDEF.SKRIVARID = rb-print NO-LOCK NO-ERROR.
   IF NOT AVAILABLE SKRIVARDEF THEN DO:
      CREATE SKRIVARDEF.
      ASSIGN
      SKRIVARDEF.SIDA = 72
      SKRIVARDEF.BREDD = 53
      SKRIVARDEF.SKRIVARID = rb-print.
   END.
   IF AVAILABLE SKRIVARDEF THEN RELEASE SKRIVARDEF.
END PROCEDURE.

PROCEDURE tabortskriv_UI:
   DEFINE INPUT PARAMETER rb-print AS CHARACTER NO-UNDO.   
   DO TRANSACTION:
      FIND FIRST SKRIVARDEF WHERE SKRIVARDEF.SKRIVARID = rb-print EXCLUSIVE-LOCK NO-ERROR.
      IF AVAILABLE SKRIVARDEF THEN DO:
         DELETE SKRIVARDEF.
      END.
   END.
END PROCEDURE.
