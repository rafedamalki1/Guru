/*BOFASTIGAPP.P*/
{STARTFORAPP.I}

PROCEDURE bort.
   DEFINE INPUT PARAMETER fasthetbet AS CHARACTER NO-UNDO.
   DO TRANSACTION:                                         
      FIND FIRST FASTIGHET WHERE FASTIGHET.BETECKNING = fasthetbet EXCLUSIVE-LOCK NO-ERROR.
      IF AVAILABLE FASTIGHET THEN DO:
         DELETE FASTIGHET.            
      END.
      FOR EACH AKERVARD WHERE AKERVARD.BETECKNING = fasthetbet AND AKERVARD.L5 > 0  EXCLUSIVE-LOCK:
         DELETE AKERVARD.            
      END.
      RETURN.
   END.  
END PROCEDURE.
