/*LESAMMAN.P*/
{TIDUTTT.I}
DEFINE INPUT PARAMETER vartvar AS INTEGER NO-UNDO.
DEFINE INPUT PARAMETER samvar AS CHARACTER NO-UNDO.
DEFINE OUTPUT PARAMETER TABLE FOR tidut.
DEFINE VARIABLE progque AS CHARACTER NO-UNDO.
DEFINE VARIABLE kommando AS CHARACTER NO-UNDO.
DEFINE VARIABLE words AS CHARACTER FORMAT "X(132)" NO-UNDO.
IF vartvar = 1 THEN DO:
   IF SEARCH(samvar) = ? THEN RETURN.
   OS-DELETE SILENT VALUE(samvar). 
END. 
{AMERICANEUROPEAN.I}                  
IF vartvar = 2 THEN DO:
   progque = SUBSTRING(samvar,1,INDEX(samvar,".TXT") - 1) + "Q".
   OS-DELETE SILENT VALUE(progque).       
   kommando = SEARCH("quoter.exe").
   IF kommando = ? THEN RETURN.
   ELSE OS-COMMAND SILENT VALUE(kommando) VALUE(samvar) > VALUE(progque).      
   INPUT FROM VALUE(progque) NO-ECHO CONVERT TARGET "iso8859-1" SOURCE "ibm850".
   REPEAT:
      SET words VIEW-AS EDITOR INNER-CHARS 50 INNER-LINES 3 WITH FRAME DDD WIDTH 80.   
      REPEAT:
         IF INDEX(words,'"',1) = 0 THEN LEAVE.
         words = REPLACE(words,'"',' ').
      END.
      CREATE tidut.   
      ASSIGN tidut.UT = words.   
   END.   
   INPUT CLOSE.
END.
{EUROPEANAMERICAN.I}